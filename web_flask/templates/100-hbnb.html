<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Display</title>
</head>
<body>

<h1>States</h1>
<ul>
    {% for state in states.values()|sort(attribute="name") %}
    <li>
        {{ state.name }}
        <ul>
            {% for city in state.cities|sort(attribute="name") %}
            <li>
                {{ city.name }}
            </li>
            {% endfor %}
        </ul>
    </li>
    {% endfor %}
</ul>

<h1>Amenities</h1>
<ul>
    {% for amenity in amenities.values()|sort(attribute="name") %}
    <li>
        {{ amenity.name }}
    </li>
    {% endfor %}
</ul>

<h1>Places</h1>
{% for place in places.values()|sort(attribute="name") %}
    <h2>{{ place.name }}</h2>
    <p>${{ place.price_by_night }}</p>
    <p>{{ place.max_guest }} Guests</p>
    <p>{{ place.number_rooms }} Rooms</p>
    <p>{{ place.number_bathrooms }} Bathrooms</p>
    <p>Owner: {{ place.user.first_name }} {{ place.user.last_name }}</p>
    <p>{{ place.description|safe }}</p>

    <h3>Amenities</h3>
    <ul>
        {% for amenity in place.amenities|sort(attribute="name") %}
        <li>
            {{ amenity.name }}
        </li>
        {% endfor %}
    </ul>

    <p>{{ place.reviews.__len__() }} Reviews</p>
    {% for review in place.reviews %}
        <p>From {{ review.user.first_name }} on {{ review.created_at.date().__str__() }}</p>
        <p>{{ review.text|safe }}</p>
    {% endfor %}
{% endfor %}

<p>Holberton School</p>

</body>
</html>
